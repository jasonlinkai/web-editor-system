# syntax=docker/dockerfile:1
FROM node:18-alpine

ARG NEXT_PUBLIC_API_URL
ARG NEXT_PUBLIC_CDN_URL

ENV NEXT_PUBLIC_API_URL=$NEXT_PUBLIC_API_URL
ENV NEXT_PUBLIC_CDN_URL=$NEXT_PUBLIC_CDN_URL

RUN echo ${NEXT_PUBLIC_API_URL}
RUN echo ${NEXT_PUBLIC_CDN_URL}

WORKDIR /usr/app
COPY . .
RUN yarn install
RUN yarn build
EXPOSE 3000
CMD ["yarn", "start"]